{% extends 'collabrate/base.html' %}
{% block title %}Peer Results{% endblock %}
{% load static %}

{% block head %}
<link rel="stylesheet" href="{% static 'dashboard/peer_results.css' %}">
{% endblock %}

{% block content %}
<div class="d-flex">
    {% include "course/sidenav.html" %}
    <div class="main-container p-4">

        <div class="course-header" style="background-color: {{ course.color|default:'#4CAF50' }};"

            <b>{{ course.code }}</b> | {{ course.title }} | {{ course_form.name }}
        </div>

        <h1 class="mt-4">Your Peer Assessment Results</h1>

        <h2 class="mt-4">Overall Average Score</h2>
        <p><strong>{{ score }}/5</strong></p>

        <h2 class="mt-4">Likert Question Averages</h2>
        <ul>
            {% for question, avg_score in likert_averages.items %}
                <li><strong>{{ question }}</strong>: {{ avg_score }}</li>
            {% empty %}
                <li>No Likert responses yet.</li>
            {% endfor %}
        </ul>

        <h2 class="mt-4">Peer Feedback</h2>
        <div class="feedback-box">
            {% for comment in feedback %}
                <p>"{{ comment }}"</p>
            {% empty %}
                <p>No feedback available yet.</p>
            {% endfor %}
        </div>

    </div>
</div>
{% endblock %} 